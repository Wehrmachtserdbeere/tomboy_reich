BEL_debug_category = {
    BEL_hte_max_borders = {

        available = {
            is_ai = no
            is_debug = yes
        }

        complete_effect = {
            custom_effect_tooltip = BEL_debug_hte_max_borders_tt
            BEL = {
                puppet = GER
                transfer_state = 28
			    transfer_state = 17
			    transfer_state = 18
			    transfer_state = 785
			    transfer_state = 29
			    transfer_state = 16
			    transfer_state = 15
			    transfer_state = 30
			    transfer_state = 14
			    transfer_state = 24
			    transfer_state = 27
			    # Non-Europe
			    transfer_state = 557
			    transfer_state = 272
			    transfer_state = 780
			    transfer_state = 779
			    transfer_state = 556
			    transfer_state = 899
			    transfer_state = 898
			    transfer_state = 781
			    transfer_state = 778
			    transfer_state = 777
			    transfer_state = 786
			    transfer_state = 782
			    transfer_state = 539
			    transfer_state = 772
			    transfer_state = 713
			    transfer_state = 320
			    transfer_state = 286
			    transfer_state = 671
			    transfer_state = 310
			    transfer_state = 553
			    transfer_state = 554
			    transfer_state = 8
			    transfer_state = 35
			    transfer_state = 736
			    transfer_state = 42
			    transfer_state = 51
			    transfer_state = 55
			    transfer_state = 57
			    transfer_state = 56
			    transfer_state = 7
			    transfer_state = 36
			    transfer_state = 42
			    transfer_state = 55
			    transfer_state = 51
			    transfer_state = 57
			    transfer_state = 56
			    transfer_state = 677
			    transfer_state = 680
			    transfer_state = 799
                annex_country = {
                    target = TUR
                }
                annex_country = {
                    target = SAU
                }
                annex_country = {
                    target = IRQ
                }
                annex_country = {
                    target = OMA
                }
                annex_country = {
                    target = YEM
                }
                annex_country = {
                    target = YUG
                }
                annex_country = {
                    target = HUN
                }
                annex_country = {
                    target = CZE
                }
                annex_country = {
                    target = ROM
                }
                annex_country = {
                    target = BUL
                }
                annex_country = {
                    target = ALB
                }
                annex_country = {
                    target = GRE
                }
                annex_country = {
                    target = ITA
                }
                annex_country = {
                    target = ENG
                }
                annex_country = {
                    target = IRE
                }
                annex_country = {
                    target = SWE
                }
                annex_country = {
                    target = FIN
                }
                annex_country = {
                    target = EST
                }
                annex_country = {
                    target = NOR
                }
                annex_country = {
                    target = DEN
                }
                annex_country = {
                    target = DEN
                }
                annex_country = {
                    target = SPR
                }
                annex_country = {
                    target = POR
                }
                annex_country = {
                    target = POL
                }
                annex_country = {
                    target = TUR
                }
                set_global_flag = BEL_fin_is_sca
            }
            GER = {
                set_cosmetic_tag = GER_HRE
                promote_character = GER_regency
                transfer_state = 20
			    transfer_state = 32
			    transfer_state = 21
			    transfer_state = 851
			    transfer_state = 22
			    transfer_state = 31
			    transfer_state = 26
			    transfer_state = 25
			    transfer_state = 33
			    transfer_state = 23
			    transfer_state = 19
			    transfer_state = 806
			    transfer_state = 741
			    transfer_state = 670
			    transfer_state = 728
			    transfer_state = 635
			    transfer_state = 734
                transfer_state = 460
				transfer_state = 513
				transfer_state = 459
				transfer_state = 462
				transfer_state = 461
				transfer_state = 514
				transfer_state = 515
				transfer_state = 775
				transfer_state = 774
				transfer_state = 660
				transfer_state = 773
				transfer_state = 776
                transfer_state = 460
				transfer_state = 513
				transfer_state = 459
				transfer_state = 462
				transfer_state = 461
				transfer_state = 514
				transfer_state = 515
				transfer_state = 775
				transfer_state = 774
				transfer_state = 660
				transfer_state = 773
				transfer_state = 776
                transfer_state = 735
				transfer_state = 1
				transfer_state = 268
				transfer_state = 458
				transfer_state = 665
				transfer_state = 543
				transfer_state = 708
				transfer_state = 706
                transfer_state = 39
				transfer_state = 850
				transfer_state = 160
				transfer_state = 736
				transfer_state = 853
				transfer_state = 160
				transfer_state = 159
				transfer_state = 158
				transfer_state = 161
				transfer_state = 162
				transfer_state = 157
                transfer_state = 9
				transfer_state = 75
                transfer_state = 460
				transfer_state = 513
				transfer_state = 459
				transfer_state = 462
				transfer_state = 461
				transfer_state = 514
				transfer_state = 515
				transfer_state = 775
				transfer_state = 774
				transfer_state = 660
				transfer_state = 773
				transfer_state = 776
                transfer_state = 188
                transfer_state = 69
                transfer_state = 74
                annex_country = {
                    target = AUS
                    transfer_troops = yes
                }
                transfer_state = 102
                transfer_state = 852
                transfer_state = 85
                transfer_state = 807
                transfer_state = 86
                transfer_state = 762
                transfer_state = 5
                transfer_state = 763
                transfer_state = 814
                transfer_state = 11
                transfer_state = 189
                transfer_state = 815
                transfer_state = 190
                transfer_state = 809
                transfer_state = 810
                transfer_state = 808
                transfer_state = 12
                transfer_state = 848
                transfer_state = 153
                transfer_state = 152
                transfer_state = 4
                annex_country = {
                    target = LIT
                    transfer_troops = yes
                }
                annex_country = {
                    target = LAT
                    transfer_troops = yes
                }
                every_state = {
                    limit = {
                        OR = {
                            AND = {
                                region = 7
                                NOT = {
                                    state = 51
                                    state = 42
                                    state = 55
                                }
                            }
                            region = 8
                        }
                    }
                    GER = {
                        transfer_state = PREV
                    }
                }
            }
            BEL = {
                country_event = tomboy.26
                country_event = tomboy.27
            }
        }
    }

    BEL_europe_borders = {
        available = {
            is_ai = no
            is_debug = yes
        }

        complete_effect = {
            annex_country = {
                target = AUS
                transfer_troops = yes
            }
            annex_country = {
                target = SWI
                transfer_troops = yes
            }
            annex_country = {
                target = FRA
                transfer_troops = yes
            }
            annex_country = {
                target = GER
                transfer_troops = yes
            }
            annex_country = {
                target = ENG
                transfer_troops = yes
            }
            annex_country = {
                target = LUX
                transfer_troops = yes
            }
            annex_country = {
                target = HOL
                transfer_troops = yes
            }
            annex_country = {
                target = SPR
                transfer_troops = yes
            }
            annex_country = {
                target = POR
                transfer_troops = yes
            }
            annex_country = {
                target = LIT
                transfer_troops = yes
            }
            annex_country = {
                target = LAT
                transfer_troops = yes
            }
            annex_country = {
                target = EST
                transfer_troops = yes
            }
            annex_country = {
                target = DEN
                transfer_troops = yes
            }
            annex_country = {
                target = NOR
                transfer_troops = yes
            }
            annex_country = {
                target = SWE
                transfer_troops = yes
            }
            annex_country = {
                target = FIN
                transfer_troops = yes
            }
            annex_country = {
                target = YUG
                transfer_troops = yes
            }
            annex_country = {
                target = CZE
                transfer_troops = yes
            }
            annex_country = {
                target = ROM
                transfer_troops = yes
            }
            annex_country = {
                target = BUL
                transfer_troops = yes
            }
            annex_country = {
                target = ITA
                transfer_troops = yes
            }
            annex_country = {
                target = ALB
                transfer_troops = yes
            }
            annex_country = {
                target = GRE
                transfer_troops = yes
            }
            annex_country = {
                target = HUN
                transfer_troops = yes
            }
            annex_country = {
                target = POL
                transfer_troops = yes
            }
            annex_country = {
                target = IRE
                transfer_troops = yes
            }
        }
    }

    BEL_add_nukes = {
        available = {
            is_ai = no
            is_debug = yes
        }

        complete_effect = {
            BEL = {
                set_technology = {
                    atomic_research = 1
                    nuclear_reactor = 1
                    nukes = 1
                }
                add_nuclear_bombs = 1000
            }
        }
    }

    BEL_loc_test = {
        available = {
            is_ai = no
            is_debug = yes
        }
        complete_effect = {
            USA = {
                save_event_target_as = LEAVER
                BEL = {
                    news_event = tomboynews.1
                }
            }
            GER = {
                save_event_target_as = LEAVER
                BEL = {
                    news_event = tomboynews.1
                }
            }
            ITA = {
                save_event_target_as = LEAVER
                BEL = {
                    news_event = tomboynews.1
                }
            }
            ENG = {
                save_event_target_as = LEAVER
                BEL = {
                    news_event = tomboynews.1
                }
            }
        }
    }
}

BEL_puppet_management_category = {

    BEL_reshuffle_cunny_realm = {

        name = BEL_reshuffle_cunny_realm

        available = {
            original_tag = BEL
        }

        cost = 150

        visible = {
            CUN = {
                is_puppet_of = BEL
                NOT = {
                    has_autonomy_state = autonomy_associated_region
                }
                has_war = no
            }
            NOT = {
                CUN = {
                    has_government = BEL
                }
            }
            has_war = no
        }

        complete_effect = {
            CUN = {
                set_politics = {
                    ruling_party = BEL
                }

            }
        }
    }

    BEL_decrease_dutch_independence = {
        name = BEL_decrease_dutch_independence

        available = {
            OR = {
                AND = {
                    original_tag = BEL
                    HOL = {
                        has_opinion = {
                            target = BEL
                            value > 95
                        }
                        is_puppet_of = BEL
                    }
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                HOL = {
                    AND = {
                        is_puppet_of = BEL
                        NOT = {
                            has_autonomy_state = autonomy_selfgoverning_territory
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 1750

        complete_effect = {
            if = {
                limit = {
                    HOL = {
                        has_autonomy_state = autonomy_associated_region
                    }
                }
                set_autonomy = {
                    target = HOL
                    autonomy_state = autonomy_freestate
                    end_civil_wars = no
                    end_wars = no
                }
            }
            else_if = {
                limit = {
                    HOL = {
                        has_autonomy_state = autonomy_freestate
                    }
                }
                set_autonomy = {
                    target = HOL
                    autonomy_state = autonomy_selfgoverning_territory
                    end_civil_wars = no
                    end_wars = no
                }
            }
            else_if = {
                limit = {
                    HOL = {
                        is_puppet_of = BEL
                        NOT = {
                            has_autonomy_state = autonomy_freestate
                            has_autonomy_state = autonomy_associated_region
                            has_autonomy_state = autonomy_selfgoverning_territory
                        }
                    }
                }
                set_autonomy = {
                    target = HOL
                    autonomy_state = autonomy_freestate
                }
            }
        }
    }

    BEL_annex_netherlands = {
        name = BEL_annex_netherlands

        available = {
            OR = {
                AND = {
                    original_tag = BEL
                    HOL = {
                        has_opinion = {
                            target = BEL
                            value > 95
                        }
                        has_autonomy_state = autonomy_selfgoverning_territory
                    }
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                HOL = {
                    is_puppet_of = BEL
                }
                is_debug = yes
            }
        }

        cost = 2000

        complete_effect = {
            annex_country = {
                target = HOL
                transfer_troops = yes
            }
        }
    }

    BEL_decrease_luxembourgish_independence = {
        name = BEL_decrease_luxembourgish_independence

        available = {
            OR = {
                AND = {
                    original_tag = BEL
                    LUX = {
                        has_opinion = {
                            target = BEL
                            value > 95
                        }
                        is_puppet_of = BEL
                    }
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                LUX = {
                    AND = {
                        is_puppet_of = BEL
                        NOT = {
                            has_autonomy_state = autonomy_selfgoverning_territory
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 1750

        complete_effect = {
            if = {
                limit = {
                    LUX = {
                        has_autonomy_state = autonomy_associated_region
                    }
                }
                set_autonomy = {
                    target = LUX
                    autonomy_state = autonomy_freestate
                    end_civil_wars = no
                    end_wars = no
                }
            }
            else_if = {
                limit = {
                    LUX = {
                        has_autonomy_state = autonomy_freestate
                    }
                }
                set_autonomy = {
                    target = LUX
                    autonomy_state = autonomy_selfgoverning_territory
                    end_civil_wars = no
                    end_wars = no
                }
            }
            else_if = {
                limit = {
                    LUX = {
                        is_puppet_of = BEL
                        NOT = {
                            has_autonomy_state = autonomy_freestate
                            has_autonomy_state = autonomy_associated_region
                            has_autonomy_state = autonomy_selfgoverning_territory
                        }
                    }
                }
                set_autonomy = {
                    target = LUX
                    autonomy_state = autonomy_freestate
                }
            }
        }
    }

    BEL_annex_luxembourg = {
        name = BEL_annex_luxembourg

        available = {
            OR = {
                AND = {
                    original_tag = BEL
                    LUX = {
                        has_opinion = {
                            target = BEL
                            value > 95
                        }
                        has_autonomy_state = autonomy_selfgoverning_territory
                    }
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                LUX = {
                    is_puppet_of = BEL
                }
                is_debug = yes
            }
        }

        cost = 2000

        complete_effect = {
            annex_country = {
                target = LUX
                transfer_troops = yes
            }
        }
    }
}

BEL_domestic_category = {

    BEL_domestic_language = {
        
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            has_war = no
            # BEL
            owns_state = 34
            owns_state = 6
            # LUX
            owns_state = 8
            # HOL
            owns_state = 35
            owns_state = 7
            owns_state = 36
            # FRA
            owns_state = 29
            owns_state = 785
            owns_state = 17
            owns_state = 18
            owns_state = 785
            owns_state = 29
            owns_state = 15
            owns_state = 16
            owns_state = 27
            owns_state = 24
            owns_state = 30
            owns_state = 14
            # GER
            owns_state = 42
            owns_state = 51
            owns_state = 55
            owns_state = 57
            owns_state = 56
        }

        cost = 250

        complete_effect = {
            country_event = tomboy.46
        }
    }

    BEL_core_everything = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                AND = {
                    OR = {
                        has_completed_focus = BEL_monarchism_war_euronia # Monarchist
                        has_completed_focus = BEL_monafash_isolationism_consolidate_euronia # Monafash
                    }
                    any_owned_state = {
                        NOT = {
                            is_core_of = BEL
                        }
                    }
                    has_war = no
                }
                is_debug = yes
            }
        }

        cost = 2000

        days_remove = 75
        days_re_enable = 200

        remove_effect = {
            every_owned_state = {
                limit = {
                    NOT = {
                        is_core_of = BEL
                    }
                }
                add_core_of = BEL
            }
        }
    }

}

BEL_britain_destabilization_category = {

    # Send economic aid
    BEL_send_eco_aid = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            ENG = {
                has_stability < 0.45 # Make sure you can't mess with civil war stuff
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
        }

        cost = 50

        ai_will_do = {
            base = 5
            modifier = {
                add = 5
                ENG = {
                    has_opinion = {
                        target = BEL # 95 opinion or below
                        value < 96
                    }
                    has_opinion = {
                        target = BEL # 75 opinion or above
                        value > 74   # Aka. Between 75 and 95 opinion
                    }
                }
            }
            modifier = {
                add = 10
                ENG = {
                    has_opinion = {
                        target = BEL # 74 opinion or below
                        value < 75
                    }
                    has_opinion = {
                        target = BEL # 50 opinion or above
                        value > 49   # Aka. Between 50 and 74 opinion
                    }
                }
            }
            modifier = {
                add = 15
                ENG = {
                    has_opinion = {
                        target = BEL # 49 opinion or below
                        value < 50
                    }
                    has_opinion = {
                        target = BEL # 25 opinion or above
                        value > 24   # Aka. Between 25 and 49 opinion
                    }
                }
            }
            modifier = {
                add = 20
                ENG = {
                    has_opinion = {
                        target = BEL # 24 opinion or below
                        value < 25
                    }
                    has_opinion = {
                        target = BEL # 10 opinion or above
                        value > 9   # Aka. Between 24 and 10 opinion
                    }
                }
            }
            modifier = {
                add = 50
                ENG = {
                    has_opinion = {
                        target = BEL # 9 opinion or below
                        value < 10
                    }
                }
            }
        }

        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            ENG = {
                add_stability = 0.05
                add_opinion_modifier = {
                    target = BEL
                    modifier = BEL_thankful
                }
            }
            set_country_flag = {
                flag = BEL_destabilizing_england_in_process
                days = 7
            }
            # Add flavor event 
        }
    }
    
    # Flood their market with our goods
    BEL_flood_market = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_opinion = {
                    target = BEL
                    value > -1
                }
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
        }

        cost = 100

        ai_will_do = {
            base = 10
            modifier = {
                add = 10
                has_opinion = {
                    target = ENG # Bigger than 4, to make sure the Brits don't start hating us
                    value > 4
                }
            }
            modifier = {
                add = -20
                has_opinion = {
                    target = ENG # Don't do it if we'd make them angry.
                    value < 5
                }
            }
            modifier = {
                add = -500
                is_in_faction_with = ENG
            }
        }

        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            ENG = {
                add_stability = -0.02
                add_opinion_modifier = {
                    target = BEL
                    modifier = BEL_slight_suspicion # -5 opinion
                }
            }
            set_country_flag = {
                flag = BEL_destabilizing_england_in_process
                days = 7
            }
        }
    }

    # Export anti-British propaganda
    BEL_export_anti_british_propaganda = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_opinion = {
                    target = BEL
                    value > 14
                }
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
        }

        cost = 150

        ai_will_do = {
            base = 10
            modifier = {
                add = 10
                has_opinion = {
                    target = ENG # At least 15 to avoid them hating us
                    value > 14
                }
            }
            modifier = {
                add = -20
                has_opinion = {
                    target = ENG # Avoid them hating us
                    value < 15
                }
            }
            modifier = {
                add = -500
                is_in_faction_with = ENG
            }
        }

        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            ENG = {
                add_stability = -0.04
                add_opinion_modifier = {
                    target = BEL
                    modifier = BEL_medium_suspicion # -15 opinion
                }
            }
            set_country_flag = {
                flag = BEL_destabilizing_england_in_process
                days = 7
            }
        }
    }
    
    # Print fake British money
    BEL_print_british_money = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_opinion = {
                    target = BEL
                    value > 19
                }
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
        }

        cost = 175

        ai_will_do = {
            base = 10
            modifier = {
                add = 10
                has_opinion = {
                    target = ENG # At least 20 to avoid them hating us
                    value > 19
                }
            }
            modifier = {
                add = -20
                has_opinion = {
                    target = ENG # Avoid them hating us
                    value < 20
                }
            }
            modifier = {
                add = -500
                is_in_faction_with = ENG
            }
        }

        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            ENG = {
                add_stability = -0.06
                add_opinion_modifier = {
                    target = BEL
                    modifier = BEL_large_suspicion # -20 opinion
                }
            }
            set_country_flag = {
                flag = BEL_destabilizing_england_in_process
                days = 7
            }
            # Add flavor news about "Fake money found"
        }
    }

    # Recognize British breakaway states
    BEL_recognize_breakaway_states = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_stability < 0.25
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_country_flag = BEL_recognized_british_breakaway_states
                }
                tooltip = BEL_britain_recognize_breakaways
            }
        }

        cost = 250

        ai_will_do = {
            base = 10
            modifier = {
                add = 20
                has_opinion = {
                    target = ENG # If WE dislike England, we'll probably do it
                    value < 1
                }
            }
            modifier = {
                add = -5
                has_opinion = {
                    target = ENG # If WE like England, we'll probably not do it
                    value > 0
                }
            }
            modifier = {
                factor = 0
                is_in_faction_with = ENG # If we're allies, don't destabilize
            }
        }
        
        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            ENG = {
                add_stability = -0.1
            }
            add_opinion_modifier = {
                target = BEL
                modifier = BEL_recognize_breakaways
            }
            set_country_flag = {
                flag = BEL_manipulated_britain
                days = 7
            }
            set_country_flag = BEL_recognized_british_breakaway_states
        }
    }

    # Recognize Northern Ireland as Irish for support
    BEL_recognize_unified_ireland_for_support = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_opinion = {
                    target = BEL
                    value > 0
                }
            }
            IRE = {
                exists = yes
            }
            NOT = {
                has_global_flag = BEL_asked_ireland
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_global_flag = BEL_destabilizing_england_in_process
                }
                tooltip = BEL_britain_destabilization_running
            }
            custom_trigger_tooltip = {
                has_country_flag = BEL_recognized_british_breakaway_states

                tooltip = BEL_britain_recognize_breakaways_true
            }
        }

        days_remove = 7

        cost = 150

        ai_will_do = {
            modifier = {
                add = 5
                has_opinion = {
                    target = ENG # If WE dislike England, we'll probably do it
                    value < 1
                }
            }
            modifier = {
                add = -5
                has_opinion = {
                    target = ENG # If WE like England, we'll probably not do it
                    value > 0
                }
            }
            modifier = {
                add = 55
                IRE = {
                    num_divisions > ENG.num_divisions
                }
                ROOT = {
                    num_divisions < ENG.num_divisions
                }
            }
            modifier = {
                add = 35
                IRE = {
                    num_divisions > ENG.num_divisions
                }
                ROOT = {
                    num_divisions > ENG.num_divisions
                }
            }
            modifier = {
                add = 10
                has_opinion = {
                    target = IRE
                    value > 14
                }
            }
            modifier = {
                factor = 0
                is_in_faction_with = ENG # If we're allies, don't destabilize
            }
        }

        complete_effect = {
            IRE = {
                country_event = tomboy.12
            }
            set_global_flag = BEL_asked_ireland
            set_country_flag = {
                flag = BEL_manipulated_britain
                days = 7
            }
        }
    }

    # Partition Britain with Breakaways (War!)
    BEL_breakaways_partition_britain = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_stability < 0.1
            }
            custom_trigger_tooltip = {
                has_country_flag = BEL_recognized_british_breakaway_states

                tooltip = BEL_britain_recognize_breakaways_true
            }
        }

        cost = 350

        war_with_on_timeout = ENG

        ai_will_do = {
            base = 5
            modifier = {
                add = 15
                ROOT = {
                    num_divisions > ENG.num_divisions # If we're stronger, add some
                }
            }
            modifier = {
                factor = 0
                is_in_faction_with = ENG
            }
            modifier = {
                add = -15
                has_opinion = {
                    target = ENG
                    value > 0
                }
            }
        }

        days_remove = 7

        days_re_enable = 45

        complete_effect = {
            hidden_effect = {
                WLS = {
                    transfer_state = 122
                    add_state_claim = 123
                    add_state_claim = 338
                    add_state_claim = 128
                    add_state_claim = 132
                    declare_war_on = {
                        target = ENG
                        type = independence_wargoal
                    }
                }
                SCO = {
                    transfer_state = 133
                    transfer_state = 121
                    transfer_state = 136
                    transfer_state = 120
                    transfer_state = 933
                    add_state_claim = 931
                    add_state_claim = 131
                    add_state_claim = 130
                    add_to_war = {
                        targeted_alliance = WLS
                        enemy = ENG
                    }
                }
                if = {
                    limit = {
                        has_global_flag = BEL_ireland_pledged_support
                    }
                    IRE = {
                        add_state_claim = 119
                        add_to_war = {
                            targeted_alliance = WLS
                            enemy = ENG
                        }
                    }
                }
                else = {
                    NIR = {
                        transfer_state = 119
                        add_to_war = {
                            targeted_alliance = WLS
                            enemy = ENG
                        }
                    }
                }
            }
            if = {
                limit = {
                    has_global_flag = BEL_ireland_pledged_support
                }
                custom_effect_tooltip = BEL_breakaways_wls_sco_ire_effect
            }
            else = {
                custom_effect_tooltip = BEL_breakaways_wls_sco_nir_effect
            }
            BEL = {
                add_state_claim = 127
                add_state_claim = 126
                add_state_claim = 125
                add_state_claim = 129
                country_event = tomboy.18
            }
            set_country_flag = {
                flag = BEL_manipulated_britain
                days = 7
            }
            set_global_flag = BEL_britain_broken
            # Add a flavor news event to everyone about Britain falling apart.
        }
    }

    # Suggest subjugation
    BEL_suggest_subjugation = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            ENG = {
                has_stability < 0.1
            }
            custom_trigger_tooltip = {
                NOT = {
                    has_country_flag = BEL_asked_eng_for_subjugation
                }
                tooltip = BEL_has_asked_eng_for_subjugation_tt
            }
        }

        cost = 350

        days_remove = 7

        ai_will_do = {
            base = 30
        }

        complete_effect = {
            ENG = {
                country_event = tomboy.20
            }
            set_country_flag = BEL_asked_eng_for_subjugation
            set_country_flag = {
                flag = BEL_manipulated_britain
                days = 7
            }
        }
    }

}

BEL_britain_request_states = {

    # Request control of Sussex
    BEL_request_sussex = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            127 = {
                owner = {
                    NOT = {
                        tag = BEL
                    }
                    controls_state = PREV
                    has_war = no
                }
            }
            NOT = {
                has_country_flag = BEL_asked_for_state
            }
        }

        cost = 100

        ai_will_do = {
            base = 50
        }

        days_re_enable = 30

        complete_effect = {
            add_to_variable = {
                var = BEL_request_state_number
                value = 127
            }
            127 = {
                owner = {
                    country_event = tomboy.30
                }
            }
            set_country_flag = {
                flag = BEL_asked_for_state
                days = 30
            }
        }
    }

    # Request control of East Anglia
    BEL_request_east_anglia = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            125 = {
                owner = {
                    NOT = {
                        tag = BEL
                    }
                    controls_state = PREV
                    has_war = no
                }
            }
            NOT = {
                has_country_flag = BEL_asked_for_state
            }
        }

        cost = 100

        ai_will_do = {
            base = 50
        }

        days_re_enable = 30

        complete_effect = {
            add_to_variable = {
                var = BEL_request_state_number
                value = 125
            }
            125 = {
                owner = {
                    country_event = tomboy.30
                }
            }
            set_country_flag = {
                flag = BEL_asked_for_state
                days = 30
            }
        }
    }

    # Request control of East Midlands
    BEL_request_east_midlands = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            129 = {
                owner = {
                    NOT = {
                        tag = BEL
                    }
                    controls_state = PREV
                    has_war = no
                }
            }
            NOT = {
                has_country_flag = BEL_asked_for_state
            }
        }

        cost = 100

        ai_will_do = {
            base = 50
        }

        days_re_enable = 30

        complete_effect = {
            add_to_variable = {
                var = BEL_request_state_number
                value = 129
            }
            129 = {
                owner = {
                    country_event = tomboy.30
                }
            }
            set_country_flag = {
                flag = BEL_asked_for_state
                days = 30
            }
        }
    }

    # Request control of London
    BEL_request_london = {
        allowed = {
            original_tag = BEL
        }
        
        visible = {
            126 = {
                owner = {
                    NOT = {
                        tag = BEL
                    }
                    controls_state = PREV
                    has_war = no
                }
            }
            NOT = {
                has_country_flag = BEL_asked_for_state
            }
        }

        cost = 100

        ai_will_do = {
            base = 50
        }

        days_re_enable = 30

        complete_effect = {
            add_to_variable = {
                var = BEL_request_state_number
                value = 126
            }
            126 = {
                owner = {
                    country_event = tomboy.30
                }
            }
            set_country_flag = {
                flag = BEL_asked_for_state
                days = 30
            }
        }
    }
}

BEL_germany_hte_bavaria_decisions = {

    BEL_germany_form_hte = {

        allowed = {
            original_tag = BEL
        }

        available = {
            OR = {
                AND = {
                    if = {
                        limit = {
                            BEL = {
                                has_country_flag = BEL_monafash_can_form_hte
                            }
                        }
                        GER = {
                            is_puppet_of = BEL
                        }
                    }
                    # if = {
                        # Use this template for further focuses that allow the HTE. This is for showing the
                        # Player what they have to do depending on the route they went on.
                    #}
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                has_country_flag = BEL_monafash_can_form_hte # BEL_monafash_imperialism_germany_integrate_puppetstate_or_hte
                is_debug = yes
            }
            OR = {
                GER = {
                    NOT = {
                        exists = yes
                        has_cosmetic_tag = GER_HRE
                    }
                }
                is_debug = yes
            }
        }

        cost = 1250

        complete_effect = {
            if = {
                limit = {
                    GER = {
                        exists = no
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = GER
                        NOT = {
                            state = 50
                            state = 52
                            state = 53
                            state = 54
                            state = 848
                            state = 153
                            state = 152
                            state = 4
                            state = 69
                            state = 9
                            state = 75
                            state = 74
						    is_core_of = BEL
                        }
                        owner = {
                            OR = {
                                tag = BEL
                                is_puppet_of = BEL
                            }
                        }
                    }
                    transfer_state_to = GER
                }
                GER = {
                    BEL = {
                        puppet = PREV
                    }
                    set_cosmetic_tag = GER_HRE
                }
            }
            else_if = {
                limit = {
                    GER = {
                        exists = yes
                        is_puppet_of = BEL
                        NOT = {
                            has_cosmetic_tag = GER_HRE
                        }
                    }
                }
                set_cosmetic_tag = GER_HRE
            }
        }

    }

    BEL_bavaria_fix_bavaria = {

        allowed = {
            original_tag = BEL
        }

        available = {
            OR = {
                if = {
                    limit = {
                        has_completed_focus = BEL_monarchism_germany_justice_chosen
                    }
                    AND = {
                        BAY = {
                            OR = {
                                exists = no
                                AND = {
                                    NOT = {
                                        has_cosmetic_tag = BAY_FEM
                                        BEL = {
                                            has_country_flag = BEL_germany_justice_chose_wittelsbachs
                                        }
                                    }
                                    is_puppet_of = BEL
                                }
                            }
                        }
                    }
                }
                if = {
                    limit = {
                        has_country_flag = BEL_monafash_can_form_hte
                    }
                    AND = {
                        BAY = {
                            OR = {
                                exists = no
                                NOT = {
                                    has_cosmetic_tag = BAY_FEM
                                }
                            }
                        }
                        NOT = {
                            has_country_flag = BEL_germany_justice_chose_wittelsbachs
                        }
                    }
                }
                is_debug = yes
            }
        }

        visible = {
            OR = {
                has_country_flag = BEL_monafash_can_form_hte
                has_completed_focus = BEL_monarchism_germany_justice_chosen
                is_debug = yes
            }
        }

        highlight_states = {
            highlight_state_targets = {
                state = 50
                state = 52
                state = 53
                state = 54
                state = 848
                state = 153
                state = 152
                state = 4
                state = 69
                state = 9
                state = 75
                state = 74
                state = 972
                state = 975
                state = 976
                state = 978
            }
        }

        cost = 1250

        complete_effect = {
            if = {
                limit = {
                    BAY = {
                        exists = no
                    }
                }
                every_state = {
                    limit = {
                        OR = {
                            state = 50
                            state = 52
                            state = 53
                            state = 54
                            state = 848
                            state = 153
                            state = 152
                            state = 4
                            state = 69
                            state = 9
                            state = 75
                            state = 74
                            state = 972
                            state = 975
                            state = 976
                            state = 978
                        }
                        owner = {
                            OR = {
                                tag = BEL
                                AND = {
                                    is_puppet_of = BEL
                                    NOT = {
                                        tag = BAY
                                    }
                                }
                            }
                        }
                    }
                    transfer_state_to = BAY
                }
                BEL = {
                    puppet = BAY
                }
                if = {
                    limit = {
                        BEL = {
                            has_country_flag = BEL_germany_justice_chose_wittelsbachs
                        }
                    }
                    BAY = {
                        promote_character = BAY_rupprecht_leader
                    }
                }
                else_if = {
                    limit = {
                        BEL = {
                            has_country_flag = BEL_germany_justice_chose_femboys
                        }
                    }
                    BAY = {
                        promote_character = BAY_astolfo_leader
                        set_cosmetic_tag = BAY_FEM
                    }
                }
                else_if = {
                    limit = {
                        has_country_flag = BEL_monafash_can_form_hte
                    }
                    BEL = {
                        country_event = tomboy.26
                    }
                }
            }
            else_if = {
                limit = {
                    BAY = {
                        AND = {
                            BAY_astolfo_leader = {
                                is_country_leader = no
                            }
                            BAY_rupprecht_leader = {
                                is_country_leader = no
                            }
                            has_government = neutrality
                        }
                    }
                }
                if = {
                    limit = {
                        BEL = {
                            has_country_flag = BEL_germany_justice_chose_wittelsbachs
                        }
                    }
                    BAY = {
                        promote_character = BAY_rupprecht_leader
                    }
                }
                else_if = {
                    limit = {
                        BEL = {
                            has_country_flag = BEL_germany_justice_chose_femboys
                        }
                    }
                    BAY = {
                        promote_character = BAY_astolfo_leader
                    }
                }
            }
            else_if = {
                limit = {
                    BEL = {
                        has_country_flag = BEL_germany_justice_chose_femboys
                    }
                    BAY = {
                        BAY_astolfo_leader = {
                            is_country_leader = no
                        }
                    }
                }
                BAY = {
                    promote_character = BAY_astolfo_leader
                }
            }
            else_if = {
                limit = {
                    BEL = {
                        has_country_flag = BEL_germany_justice_chose_wittelsbachs
                    }
                    BAY = {
                        BAY_rupprecht_leader = {
                            is_country_leader = no
                        }
                    }
                }
                BAY = {
                    promote_character = BAY_rupprecht_leader
                }
            }
            else_if = {
                limit = {
                    BEL = {
                        has_country_flag = BEL_germany_justice_chose_femboys
                    }
                    BAY = {
                        NOT = {
                            has_cosmetic_tag = BAY_FEM
                        }
                    }
                }
                BAY = {
                    set_cosmetic_tag = BAY_FEM
                }
            }
            else_if = {
                limit = {
                    has_country_flag = BEL_monafash_can_form_hte
                }
                BEL = {
                    country_event = tomboy.27
                }
            }
        }
    }

    BEL_establish_cunny_realm = {

        name = BEL_land_the_lolis

        allowed = {
            original_tag = BEL
        }

        available = {
            has_war = no

            OR = {
                owns_state = 785
                owns_state = 18
                owns_state = 28
                owns_state = 17
                owns_state = 27
                owns_state = 16
                owns_state = 24
                owns_state = 15
                owns_state = 30
                owns_state = 14
            }
        }

        highlight_states = {
            highlight_state_targets = {
                state = 785
                state = 18
                state = 28
                state = 17
                state = 27
                state = 16
                state = 24
                state = 15
                state = 30
                state = 14
            }
        }

        visible = {
            OR = {
                always = yes
                is_debug = yes
            }
        }

        complete_effect = {
            if = {
                limit = {
                    CUN = {
                        exists = no
                    }
                }
                set_autonomy = {
                    target = CUN
                    autonomy_state = autonomy_selfgoverning_territory
                    end_civil_wars = no
                    end_wars = no
                }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 785
                       owns_state = 785
                   }
               }
               CUN = {
                    add_state_core = 785
                    transfer_state = 785
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 18
                       owns_state = 18
                   }
               }
               CUN = {
                    add_state_core = 18
                    transfer_state = 18
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 28
                       owns_state = 28
                   }
               }
               CUN = {
                    add_state_core = 18
                    transfer_state = 28
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 17
                       owns_state = 17
                   }
               }
               CUN = {
                    add_state_core = 17
                   transfer_state = 17
               }
            }
            if = {
               limit = {
                   BEL = {
                        controls_state = 27
                        owns_state = 27
                   }
               }
               CUN = {
                    add_state_core = 27
                    transfer_state = 27
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 16
                       owns_state = 16
                   }
               }
               CUN = {
                    add_state_core = 16
                    transfer_state = 16
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 24
                       owns_state = 24
                   }
               }
               CUN = {
                    add_state_core = 24
                    transfer_state = 24
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 15
                       owns_state = 15
                   }
               }
               CUN = {
                    add_state_core = 15
                    transfer_state = 15
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 30
                       owns_state = 30
                   }
               }
               CUN = {
                    add_state_core = 30
                    transfer_state = 30
               }
            }
            if = {
               limit = {
                   BEL = {
                       controls_state = 14
                       owns_state = 14
                   }
               }
               CUN = {
                    add_state_core = 14
                    transfer_state = 14
               }
            }
        }
    }
}

BEL_germany_freedom_decisions_enable = {

    BEL_germany_free_wurttemberg = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 50
        }

        complete_effect = {
            if = {
                limit = {
                    WUR = { exists = no }
                }
                WUR = {
                    transfer_state = 50
                }
                puppet = WUR
            }
            else = {
                WUR = {
                    transfer_state = 50
                }
            }
        }
    }

    BEL_germany_free_austria = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 4
            controls_state = 152
            controls_state = 153
            controls_state = 848
        }

        complete_effect = {
            if = {
                limit = {
                    AUS = { exists = no }
                }
                AUS = {
                    transfer_state = 4
                    transfer_state = 152
                    transfer_state = 153
                    transfer_state = 848
                }
                puppet = AUS
            }
            else = {
                AUS = {
                    transfer_state = 4
                    transfer_state = 152
                    transfer_state = 153
                    transfer_state = 848
                }
            }
        }
    }

    BEL_germany_free_bayern = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 52
            controls_state = 53
            controls_state = 54
        }

        complete_effect = {
            if = {
                limit = {
                    BAY = { exists = no }
                }
                BAY = {
                    transfer_state = 52
                    transfer_state = 53
                    transfer_state = 54
                }
                puppet = AUS
            }
            else = {
                BAY = {
                    transfer_state = 52
                    transfer_state = 53
                    transfer_state = 54
                }
            }
        }
    }

    BEL_germany_free_sachsen = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 65
        }

        complete_effect = {
            if = {
                limit = {
                    SAX = { exists = no }
                }
                SAX = {
                    transfer_state = 65
                }
                puppet = SAX
            }
            else = {
                SAX = {
                    transfer_state = 65
                }
            }
        }
    }

    BEL_germany_free_hannover = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 59
        }

        complete_effect = {
            if = {
                limit = {
                    HAN = { exists = no }
                }
                HAN = {
                    transfer_state = 59
                }
                puppet = HAN
            }
            else = {
                HAN = {
                    transfer_state = 59
                }
            }
        }
    }

    BEL_germany_free_schleswig_holstein = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 58
            controls_state = 909
        }

        complete_effect = {
            if = {
                limit = {
                    SHL = { exists = no }
                }
                SHL = {
                    transfer_state = 58
                    transfer_state = 909
                    if = {
                        limit = {
                            BEL = {
                                owns_state = 912
                            }
                        }
                        transfer_state = 912
                    }
                }
                puppet = SHL
            }
            else = {
                SHL = {
                    transfer_state = 58
                    transfer_state = 909
                    if = {
                        limit = {
                            BEL = {
                                owns_state = 912
                            }
                        }
                        transfer_state = 912
                    }
                }
            }
        }
    }

    BEL_germany_free_mecklenburg = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 61
        }

        complete_effect = {
            if = {
                limit = {
                    MEK = { exists = no }
                }
                MEK = {
                    transfer_state = 61
                }
                puppet = MEK
            }
            else = {
                MEK = {
                    transfer_state = 61
                }
            }
        }
    }

    BEL_germany_free_schlesien = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 66
            controls_state = 67
            controls_state = 762
        }

        complete_effect = {
            if = {
                limit = {
                    SIL = { exists = no }
                }
                SIL = {
                    transfer_state = 66
                    transfer_state = 67
                    transfer_state = 762
                }
                puppet = SIL
            }
            else = {
                SIL = {
                    transfer_state = 66
                    transfer_state = 67
                    transfer_state = 762
                }
            }
        }
    }

    BEL_germany_free_kaschubei = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 63
            controls_state = 807
            controls_state = 85
        }

        complete_effect = {
            if = {
                limit = {
                    KSH = { exists = no }
                }
                KSH = {
                    transfer_state = 63
                    transfer_state = 807
                    transfer_state = 85
                }
                puppet = KSH
            }
            else = {
                KSH = {
                    transfer_state = 63
                    transfer_state = 807
                    transfer_state = 85
                }
            }
        }
    }

    BEL_germany_free_preussen = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_germany_freedom_decisions_enable
        }

        available = {
            has_war = no
            controls_state = 60
            controls_state = 64
            controls_state = 68
            controls_state = 86
            controls_state = 5
            controls_state = 763
            controls_state = 188
        }

        complete_effect = {
            if = {
                limit = {
                    PRE = { exists = no }
                }
                PRE = {
                    transfer_state = 60
                    transfer_state = 64
                    transfer_state = 68
                    transfer_state = 86
                    transfer_state = 5
                    transfer_state = 763
                    transfer_state = 188
                }
                puppet = PRE
            }
            else = {
                PRE = {
                    transfer_state = 60
                    transfer_state = 64
                    transfer_state = 68
                    transfer_state = 86
                    transfer_state = 5
                    transfer_state = 763
                    transfer_state = 188
                }
            }
        }
    }

}

BEL_monafash_bop_decisions_category = {

    BEL_monafash_bop_fash_recruit_paramilitaries = {

        allowed = {
            tag = BEL
        }

        available = {
            has_political_power > 99
            has_power_balance = {
                id = BEL_bop_monafash
            }
        }

        complete_effect = {
            add_ideas = BEL_idea_extra_recruits
            add_power_balance_value = {
                id = BEL_bop_monafash
                value = 0.05
            }
        }

        cost = 150

        days_remove = 50

        remove_effect = {
            remove_ideas = BEL_idea_extra_recruits
        }
    }

    BEL_monafash_bop_mona_promote_nobility = {

        allowed = {
            tag = BEL
        }

        available = {
            has_political_power > 99
            has_power_balance = {
                id = BEL_bop_monafash
            }
        }

        complete_effect = {
            add_stability = 0.05
            add_war_support = -0.05
            add_popularity = {
                ideology = neutrality
                popularity = -0.05
            }
            add_power_balance_value = {
                id = BEL_bop_monafash
                value = -0.05
            }
        }

        cost = 150

        days_remove = 20

        remove_effect = {
            add_popularity = {
                ideology = neutrality
                popularity = 0.065
            }
        }
    }

    BEL_monafash_bop_fash_employ_fascist_ministers = {

        allowed = {
            tag = BEL
        }

        available = {
            has_political_power > 149
            has_power_balance = {
                id = BEL_bop_monafash
            }
        }

        complete_effect = {
            add_war_support = 0.05
            add_political_power = -150
            add_popularity = {
                ideology = fascism
                popularity = 0.075
            }
            add_power_balance_value = {
                id = BEL_bop_monafash
                value = 0.075
            }
        }
    }

    BEL_monafash_bop_mona_secure_minor_noble_marriages = {

        allowed = {
            tag = BEL
        }

        available = {
            has_political_power > 149
            has_power_balance = {
                id = BEL_bop_monafash
            }
        }

        complete_effect = {
            add_stability = 0.025
            add_manpower = 500
            add_political_power = -150
            add_power_balance_value = {
                id = BEL_bop_monafash
                value = -0.075
            }
        }
    }
}

BEL_bop_fascism_decisions_category = {
    # Left = Reichsmilitär
    # Right = Sturmkommando

    
    BEL_bop_fascism_rm_curb_sturmkommando_influence = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_power_balance = {
                id = BEL_bop_fascism
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_fascism
                value < 0.9
            }
        }

        complete_effect = {
            add_stability = 0.025
            add_war_support = -0.05
            add_power_balance_value = {
                id = BEL_bop_fascism
                value = -0.05
            }
        }
    }

    BEL_bop_fascism_sk_purge_rm_officers = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_power_balance = {
                id = BEL_bop_fascism
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_fascism
                value > -0.9
            }
        }

        complete_effect = {
            add_power_balance_value = {
                id = BEL_bop_fascism
                value = 0.1
            }
            set_variable = {
                var = BEL_var_reichsmilitaer_members
                value = 0
            }
            every_army_leader = {
                limit = {
                    FROM = {
                        original_tag = BEL
                    }
                    has_trait = BEL_trait_reichsmilitaer_member
                }
                add_to_temp_variable = {
                    var = BEL_var_reichsmilitaer_members
                    value = 1
                }
            }
            if = {
                limit = {
                    check_variable = {
                        BEL_var_reichsmilitaer_members > 2 # If has 3 or more people with this trait
                    }
                }
                random_list = {
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_two_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    20 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_three_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    check_variable = {
                        BEL_var_reichsmilitaer_members = 2 # If has 2 people with this trait
                    }
                }
                random_list = {
                    60 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_two_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    check_variable = {
                        BEL_var_reichsmilitaer_members = 1 # If has 2 people with this trait
                    }
                }
                random_list = {
                    60 = {
                        custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        add_political_power = -50
                    }
                }
            }
            else = {
                custom_effect_tooltip = BEL_bop_fascism_sk_purge_rm_officers_none
                add_political_power = -100
                add_manpower = -1500
            }
        }
    }

    BEL_bop_fascism_rm_purge_sk_officers = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_power_balance = {
                id = BEL_bop_fascism
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_fascism
                value < 0.9
            }
        }

        complete_effect = {
            add_power_balance_value = {
                id = BEL_bop_fascism
                value = -0.1
            }
            set_variable = {
                var = BEL_var_sturmkommando_members
                value = 0
            }
            every_army_leader = {
                limit = {
                    FROM = {
                        original_tag = BEL
                    }
                    has_trait = BEL_trait_reichsmilitaer_member
                }
                add_to_temp_variable = {
                    var = BEL_var_sturmkommando_members
                    value = 1
                }
            }
            if = {
                limit = {
                    check_variable = {
                        BEL_var_sturmkommando_members > 2 # If has 3 or more people with this trait
                    }
                }
                random_list = {
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_two_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    20 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_three_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    check_variable = {
                        BEL_var_reichsmilitaer_members = 2 # If has 2 people with this trait
                    }
                }
                random_list = {
                    60 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_two_officers
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    check_variable = {
                        BEL_var_reichsmilitaer_members = 1 # If has 2 people with this trait
                    }
                }
                random_list = {
                    60 = {
                        custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_retire_one_officer
                        hidden_effect = {
                            random_army_leader = {
                                limit = {
                                    has_trait = BEL_trait_reichsmilitaer_member
                                }
                                retire = yes
                            }
                        }
                    }
                    40 = {
                        add_political_power = -50
                    }
                }
            }
            else = {
                custom_effect_tooltip = BEL_bop_fascism_rm_purge_sk_officers_none
                add_political_power = -100
                add_manpower = -1500
            }
        }
    }

    BEL_bop_fascism_sk_enlarge_sturmkommando = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_power_balance = {
                id = BEL_bop_fascism
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_fascism
                value > -0.9
            }
        }

        days_remove = 30

        complete_effect = {
            add_manpower = -2500
            add_stability = -0.1
            add_war_support = -0.025
        }

        remove_effect = {
            add_manpower = 5000
            add_stability = 0.025
            add_war_support = 0.075
        }
    }
}

BEL_colonial_management_category = {

    BEL_establish_african_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = africa
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = africa
                }
                TBA = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBA = {
                        exists = yes
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBA
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBA = {
                        owns_state = 458
                        458 = {
                            is_capital = no
                        }
                    }
                }
                TBA = {
                    set_capital = {
                        state = 458
                    }
                }
            }
        }
    }

    BEL_establish_asian_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = asia
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = asia
                }
                TBS = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBS = {
                        exists = yes
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBS
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBS = {
                        owns_state = 613
                        613 = {
                            is_capital = no
                        }
                    }
                }
                TBS = {
                    set_capital = {
                        state = 613
                    }
                }
            }
        }
    }

    BEL_establish_middle_east_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = middle_east
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = middle_east
                }
                TBE = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBE = {
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBE
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBE = {
                        owns_state = 454
                        454 = {
                            is_capital = no
                        }
                    }
                }
                TBE = {
                    set_capital = {
                        state = 454
                    }
                }
            }
        }
    }

    BEL_establish_north_america_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = north_america
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = north_america
                }
                TBN = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBN = {
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBN
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBN = {
                        owns_state = 358
                        358 = {
                            is_capital = no
                        }
                    }
                }
                TBN = {
                    set_capital = {
                        state = 358
                    }
                }
            }
        }
    }

    BEL_establish_oceania_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = australia
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = australia
                }
                TBO = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBO = {
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBO
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBO = {
                        owns_state = 285
                        285 = {
                            is_capital = no
                        }
                    }
                }
                TBO = {
                    set_capital = {
                        state = 285
                    }
                }
            }
        }
    }

    BEL_establish_south_america_colonial_government = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            has_country_flag = BEL_established_colonial_government
        }

        available = {
            any_owned_state = {
                is_on_continent = south_america
            }
        }

        cost = 200

        complete_effect = {
            every_owned_state = {
                limit = {
                    is_on_continent = south_america
                }
                TBU = {
                    transfer_state = prev
                }
            }
            if = {
                limit = {
                    TBU = {
                        is_puppet = no
                    }
                }
                BEL = {
                    set_autonomy = {
                        target = TBU
                        autonomy_state = autonomy_associated_region
                    }
                }
            }
            if = {
                limit = {
                    TBU = {
                        owns_state = 500
                        500 = {
                            is_capital = no
                        }
                    }
                }
                TBU = {
                    set_capital = {
                        state = 500
                    }
                }
            }
        }
    }

}

BEL_make_cze_submit_category = {

    BEL_spread_war_propaganda_in_cze = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                CZE = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            CZE = {
                add_stability = 0.03
                add_war_support = -0.05
            }
        }
    }

    BEL_instill_fear_in_cze = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                CZE = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            CZE = {
                add_stability = -0.05
                add_war_support = 0.03
            }
        }
    }

    BEL_promote_ideology_in_cze = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                CZE = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                            has_government = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            CZE = {
                add_stability = 0.02
                add_war_support = 0.02
                add_popularity = {
                    ideology = BEL
                    popularity = 0.025
                }
            }
        }
    }
}

BEL_make_slo_submit_category = {

    BEL_spread_war_propaganda_in_slo = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                SLO = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            SLO = {
                add_stability = 0.03
                add_war_support = -0.05
            }
        }
    }

    BEL_instill_fear_in_SLO = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                SLO = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            SLO = {
                add_stability = -0.05
                add_war_support = 0.03
            }
        }
    }

    BEL_promote_ideology_in_SLO = {

        allowed = {
            original_tag = BEL
        }

        visible = {
            OR = {
                has_country_flag = BEL_CZE_promote_submission
                SLO = {
                    AND = {
                        exists = yes
                        NOT = {
                            is_puppet_of = BEL
                            has_government = BEL
                        }
                    }
                }
                is_debug = yes
            }
        }

        cost = 200
        
        days_re_enable = 14

        complete_effect = {
            SLO = {
                add_stability = 0.02
                add_war_support = 0.02
                add_popularity = {
                    ideology = BEL
                    popularity = 0.025
                }
            }
        }
    }
}

BEL_westwall_category = {

    BEL_extend_westwall = {
        
        allowed = {
            original_tag = BEL
        }

        visible = {
            BEL = {
            	any_owned_state = {
            	    AND = {
            	        is_coastal = yes
            	        check_variable = {
            	            building_level@coastal_bunker < 10
            	        }
            	    }
            	}
            }
        }

        cost = 0

        days_re_enable = 100

        complete_effect = {
            add_dynamic_modifier = {
                modifier = dyn_mod_bel_bop_fascism_isolationism_westwall_construction
                days = 100
            }
        }

        remove_effect = {
            every_owned_state = {
                limit = {
                    is_coastal = yes
                    check_variable = {
                        building_level@coastal_bunker < 10
                    }
                }
                add_building_construction = {
                    type = coastal_bunker
                    level = 10
                    instant_build = yes
                    province = {
                        all_provinces = yes
                        limit_to_coastal = yes
                    }
                }
            }
        }
    }

}

BEL_bop_demsoc_decisions_category = {

    BEL_bop_demsoc_hold_democratic_protests = {

        allowed = {
            original_tag = BEL
        }

        cost = 50

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_demsoc
                value > 0
            }
        }

        complete_effect = {
            add_political_power = -50
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = -0.05
            }
        }
    }

    BEL_bop_demsoc_heavily_promote_democratic_ideas = {

        allowed = {
            original_tag = BEL
        }

        cost = 75

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_demsoc
                value < 0
            }
        }

        complete_effect = {
            add_political_power = -100
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = -0.1
            }
        }
    }

    BEL_bop_demsoc_spread_anticommunist_propaganda = {

        allowed = {
            original_tag = BEL
        }

        cost = 75

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_demsoc
                value > 0
            }
        }

        complete_effect = {
            add_political_power = -50
            add_popularity = {
                ideology = communism
                popularity = -0.05
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = -0.025
            }
        }
    }

    BEL_bop_demsoc_assassinate_minor_communist_leaders = {

        allowed = {
            original_tag = BEL
        }

        cost = 150

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
        }

        days_re_enable = 90

        complete_effect = {
            add_political_power = -100
            random_list = {
                75 = {
                    add_popularity = {
                        ideology = communism
                        popularity = -0.15
                    }
                    add_power_balance_value = {
                        id = BEL_bop_demsoc
                        value = -0.15
                    }
                    add_manpower = 	-1
                }
                25 = {
                    add_popularity = {
                        ideology = communism
                        popularity = 0.1
                    }
                    add_power_balance_value = {
                        id = BEL_bop_demsoc
                        value = 0.1
                    }
                }
            }
        }
    }

    BEL_bop_demsoc_organize_general_strikes = {
        
        allowed = {
            original_tag = BEL
        }

        cost = 150

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
        }

        days_re_enable = 90

        complete_effect = {
            add_political_power = -100
            add_popularity = {
                ideology = communism
                popularity = 0.1
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = 0.1
            }
            add_stability = -0.28
            add_dynamic_modifier = {
                modifier = dyn_mod_bel_demsoc_general_strike
                days = 28
            }
        }
    }

    BEL_bop_demsoc_distribute_communist_propaganda = {
        
        allowed = {
            original_tag = BEL
        }

        cost = 50

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_demsoc
                value < 0
            }
        }

        complete_effect = {
            add_political_power = -50
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = 0.05
            }
        }
    }

    BEL_bop_demsoc_spread_anticapitalist_propaganda = {
        
        allowed = {
            original_tag = BEL
        }

        cost = 50

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
        }

        complete_effect = {
            add_political_power = -50
            add_popularity = {
                ideology = fascism
                popularity = -0.025
            }
            add_popularity = {
                ideology = neutrality
                popularity = -0.025
            }
            add_popularity = {
                ideology = democratic
                popularity = -0.025
            }
            add_popularity = {
                ideology = terror
                popularity = -0.025
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = 0.025
            }
        }
    }

    BEL_bop_demsoc_intimidate_democratic_speakers = {
        
        allowed = {
            original_tag = BEL
        }

        cost = 25

        visible = {
            has_power_balance = {
                id = BEL_bop_demsoc
            }
        }

        available = {
            power_balance_value = {
                id = BEL_bop_demsoc
                value > 0.5
            }
        }

        complete_effect = {
            add_political_power = -50
            add_popularity = {
                ideology = democratic
                popularity = -0.1
            }
            add_power_balance_value = {
                id = BEL_bop_demsoc
                value = 0.075
            }
        }
    }
}

BEL_german_buyback_category = {

    # 42 - Moselland
    # 51 - Rhineland
    # 55 - Hessen
    # 57 - Westfalen
    # 56 - Weser-Ems

    BEL_german_buyback_forsake_peace = {

        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                owns_state = 42
                owns_state = 51
                owns_state = 55
                owns_state = 57
                owns_state = 56
                has_country_flag = BEL_germany_buyback_is_buying_back
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_germany_buyback_is_buying_back
        }

        remove_effect = {
            clr_country_flag = BEL_germany_buyback_is_buying_back
            for_each_scope_loop = {
                array = tomboy_german_states_array
                if = {
                    limit = {
                        owner = {
                            NOT = {
                                original_tag = ROOT
                                is_puppet_of = ROOT
                                is_ally_with = ROOT
                                is_in_faction_with = ROOT
                                has_war_with = ROOT
                            }
                        }
                    }
                    ROOT = {
                        declare_war_on = {
                            target = PREV.owner
                            type = take_state
                            generator = PREV
                        }
                    }
                }
            }
        }

    }

    BEL_german_buyback_finish = {

        allowed = {
            original_tag = BEL
        }

        available = {
            owns_state = 42
            owns_state = 51
            owns_state = 55
            owns_state = 57
            owns_state = 56
        }

        highlight_states = {
            highlight_state_targets = {
                state = 42
                state = 51
                state = 55
                state = 57
                state = 56
            }
        }

        cost = 15

        complete_effect = {
            for_each_scope_loop = {
                array = tomboy_german_states_array
                if = {
                    limit = {
                        NOT = {
                            is_core_of = ROOT
                        }
                    }
                    add_core_of = ROOT
                }
            }
            clr_country_flag = BEL_began_german_buyback
        }
    }

    BEL_german_buyback_purchase_state = {
        
        allowed = {
            original_tag = BEL
        }

        state_target = yes

        target_root_trigger = {
            has_country_flag = BEL_began_german_buyback
        }

        available = {
            has_equipment = {
                # 10000 or more
                infantry_equipment > 9999
            }
            NOT = {
                has_country_flag = BEL_germany_buyback_is_buying_back
                has_war_with = FROM.owner
            }
        }

        target_array = tomboy_german_states_array

        cost = 250

        target_trigger = {
            FROM = {
                var:owner = {
                    NOT = {
                        original_tag = BEL
                    }
                }
                any_neighbor_state = {
                    owner = {
                        original_tag = ROOT
                    }
                }
            }
        }

        # Thanks, PDX, for breaking this.
        highlight_states = {
            highlight_state_targets = {
                state = FROM
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_germany_buyback_is_buying_back
        }

        remove_effect = {
            FROM = {
                save_event_target_as = tomboy_target_state
            }
            var:FROM.owner = {
                country_event = {
                    id = tomboy.107
                }
            }
            clr_country_flag = BEL_germany_buyback_is_buying_back
        }
    }

}

BEL_french_buyback_category = {

    # 29 - Nord-Pas-de-Calais
    # 785 - Picardy
    # 18 - Champagne
    # 28 - Alsace-Lorraine
    # 17 - France-Comte
    # 16 - Ile-de-France
    # 15 - Normandy
    # 27 - Bourgogne
    # 24 - Centre
    # 30 - Loire
    # 14 - Brittany

    BEL_french_buyback_forsake_peace = {

        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                owns_state = 29
                owns_state = 785
                owns_state = 18
                owns_state = 28
                owns_state = 17
                owns_state = 16
                owns_state = 15
                owns_state = 27
                owns_state = 24
                owns_state = 30
                owns_state = 14
                has_country_flag = BEL_france_buyback_is_buying_back
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_france_buyback_is_buying_back
        }

        remove_effect = {
            clr_country_flag = BEL_france_buyback_is_buying_back
            for_each_scope_loop = {
                array = tomboy_france_states_array
                if = {
                    limit = {
                        owner = {
                            NOT = {
                                original_tag = ROOT
                                is_puppet_of = ROOT
                                is_ally_with = ROOT
                                is_in_faction_with = ROOT
                                has_war_with = ROOT
                            }
                        }
                    }
                    ROOT = {
                        declare_war_on = {
                            target = PREV.owner
                            type = take_state
                            generator = PREV
                        }
                    }
                }
            }
        }

    }

    BEL_french_buyback_agree_on_small_france = {

        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                has_country_flag = BEL_france_buyback_is_buying_back
            }
            owns_state = 29
            owns_state = 785
            owns_state = 18
            owns_state = 28
            owns_state = 17
            owns_state = 16
            owns_state = 15
        }

        highlight_states = {
            highlight_state_targets = {
                state = 29
                state = 785
                state = 18
                state = 28
                state = 17
                state = 16
                state = 15
            }
        }

        cost = 75

        complete_effect = {
            for_each_scope_loop = {
                array = tomboy_france_states_array
                if = {
                    limit = {
                        owner = {
                            original_tag = BEL
                        }
                    }
                    add_core_of = BEL
                }
                else = {
                    BEL = {
                        # Because you abandoned who most consider fellow Tomboys
                        add_stability = -0.025
                    }
                    # Because you no longer claim them as your core lands
                    if = {
                        limit = {
                            is_core_of = BEL
                        }
                        remove_core_of = BEL
                        BEL = {
                            add_political_power = 10
                        }
                        owner = {
                            add_opinion_modifier = {
                                target = BEL
                                modifier = small_increase
                            }
                        }
                    }
                    # Because you no longer claim them
                    if = {
                        limit = {
                            is_claimed_by = BEL
                        }
                        BEL = {
                            add_political_power = 5
                        }
                        remove_claim_by = BEL
                    }
                }
            }
            ROOT = {
                set_country_flag = BEL_french_state_purchasing_small
                clr_country_flag = BEL_began_french_buyback
            }
        }

    }

    BEL_french_buyback_agree_on_big_france = {
        
        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                has_country_flag = BEL_france_buyback_is_buying_back
            }
            owns_state = 29
            owns_state = 785
            owns_state = 18
            owns_state = 28
            owns_state = 17
            owns_state = 16
            owns_state = 15
            owns_state = 27
            owns_state = 24
            owns_state = 30
            owns_state = 14
        }

        highlight_states = {
            highlight_state_targets = {
                state = 29
                state = 785
                state = 18
                state = 28
                state = 17
                state = 16
                state = 15
                state = 27
                state = 24
                state = 30
                state = 14
            }
        }

        cost = 100

        complete_effect = {
            for_each_scope_loop = {
                array = tomboy_france_states_array
                if = {
                    limit = {
                        owner = { original_tag = ROOT }
                    }
                    if = {
                        limit = {
                            NOT = {
                                is_core_of = ROOT
                            }
                        }
                        add_core_of = ROOT
                        ROOT = {
                            add_stability = 0.025
                        }
                    }
                }
            }
            ROOT = {
                set_country_flag = BEL_french_state_purchasing_large
                clr_country_flag = BEL_began_french_buyback
            }
        }

    }

    BEL_french_buyback_purchase_state = {
        
        allowed = {
            original_tag = BEL
        }

        state_target = yes

        target_root_trigger = {
            has_country_flag = BEL_began_french_buyback
        }

        available = {
            has_equipment = {
                # 10000 or more
                infantry_equipment > 9999
            }
            NOT = {
                has_country_flag = BEL_france_buyback_is_buying_back
                has_war_with = FROM.owner
            }
        }

        target_array = tomboy_france_states_array

        cost = 250

        target_trigger = {
            FROM = {
                var:owner = {
                    NOT = {
                        original_tag = BEL
                    }
                }
                any_neighbor_state = {
                    owner = {
                        original_tag = ROOT
                    }
                }
            }
        }

        # Thanks, PDX, for breaking this.
        highlight_states = {
            highlight_state_targets = {
                state = FROM
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_france_buyback_is_buying_back
        }

        remove_effect = {
            FROM = {
                save_event_target_as = tomboy_target_state
            }
            var:FROM.owner = {
                country_event = {
                    id = tomboy.107
                }
            }
            clr_country_flag = BEL_france_buyback_is_buying_back
        }

    }

}

BEL_english_buyback_category = {

    # 127 - Sussex
    # 126 - Greater London Area
    # 125 - East Anglia
    # 129 - East Midlands
    # 130 - Yorkshire

    BEL_english_buyback_forsake_peace = {

        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                owns_state = 127
                owns_state = 126
                owns_state = 125
                owns_state = 129
                owns_state = 130
                has_country_flag = BEL_england_buyback_is_buying_back
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_england_buyback_is_buying_back
        }

        remove_effect = {
            clr_country_flag = BEL_england_buyback_is_buying_back
            for_each_scope_loop = {
                array = tomboy_english_states_array
                if = {
                    limit = {
                        owner = {
                            NOT = {
                                original_tag = ROOT
                                is_puppet_of = ROOT
                                is_ally_with = ROOT
                                is_in_faction_with = ROOT
                                has_war_with = ROOT
                            }
                        }
                    }
                    ROOT = {
                        declare_war_on = {
                            target = PREV.owner
                            type = take_state
                            generator = PREV
                        }
                    }
                }
            }
        }

    }

    BEL_english_buyback_integrate_states = {

        allowed = {
            original_tag = BEL
        }

        available = {
            NOT = {
                has_country_flag = BEL_england_buyback_is_buying_back
            }
            owns_state = 127
            owns_state = 126
            owns_state = 125
            owns_state = 129
            owns_state = 130
        }

        highlight_states = {
            highlight_state_targets = {
                state = 127
                state = 126
                state = 125
                state = 129
                state = 130
            }
        }

        cost = 100

        complete_effect = {
            for_each_scope_loop = {
                array = tomboy_english_states_array
                if = {
                    limit = {
                        owner = { original_tag = BEL }
                    }
                    if = {
                        limit = {
                            NOT = {
                                is_core_of = BEL
                            }
                        }
                        add_core_of = BEL
                        BEL = {
                            add_stability = 0.025
                        }
                    }
                }
            }
            BEL = {
                set_country_flag = BEL_england_buyback_integrated
                clr_country_flag = BEL_began_english_buyback
            }
        }


    }

    BEL_english_buyback_purchase_state = {

        allowed = {
            original_tag = BEL
        }

        state_target = yes

        target_array = tomboy_english_states_array

        target_trigger = {
            FROM = {
                var:owner = {
                    NOT = {
                        original_tag = BEL
                    }
                }
                OR = {
                    any_neighbor_state = {
                        owner = {
                            original_tag = ROOT
                        }
                    }
                    is_coastal = yes
                }
            }
        }

        cost = 250

        target_root_trigger = {
            has_country_flag = BEL_began_english_buyback
        }

        # Thanks, PDX, for breaking this.
        highlight_states = {
            highlight_state_targets = {
                state = FROM
            }
        }

        available = {
            NOT = {
                has_country_flag = BEL_england_buyback_is_buying_back
                has_war_with = FROM.owner
            }
            OR = {
                has_equipment = {
                    infantry_equipment > 9999
                }
                AND = {
                    has_dlc = "No Step Back"
                    has_equipment = {
                        heavy_tank_chassis > 249
                    }
                }
                AND = {
                    NOT = {
                        has_dlc = "No Step Back"
                    }
                    OR = {
                        has_equipment = {
                            heavy_tank_equipment_1 > 249 
                        }
                        has_equipment = {
                            heavy_tank_equipment_2 > 149 
                        }
                        has_equipment = {
                            heavy_tank_equipment_3 > 99 
                        }
                    }
                }
                custom_trigger_tooltip = {
                    tooltip = BEL_english_buyback_integrate_states_any_owned_state_is_german

                    # Any owned state is German
                    any_owned_state = {
                        is_in_array = {
                            array = tomboy_german_states_array
                            value = THIS.id
                        }
                    }
                }
            }
        }

        days_remove = 28

        complete_effect = {
            set_country_flag = BEL_england_buyback_is_buying_back
        }

        remove_effect = {
            FROM = {
                save_event_target_as = tomboy_target_state
            }
            ROOT = {
                country_event = tomboy.108
            }
            clr_country_flag = BEL_england_buyback_is_buying_back
        }
    }
}

BEL_nisd_4_category = {

    BEL_nisd_specialize_state = {

        allowed = {
            original_tag = BEL
        }

        available = {
            OR = {
                has_idea = BEL_idea_nisd_4
                is_debug = yes
            }
        }

        cost = 75

        state_target = any_controlled_state

        target_trigger = {
            FROM = {
                AND = {
                    owner = { original_tag = BEL }
                    NOT = {
                        AND = {
                            has_dynamic_modifier = {
                                modifier = dyn_mod_bel_dem_STATE_civilian_focus
                            }
                            has_dynamic_modifier = {
                                modifier = dyn_mod_bel_dem_STATE_military_focus
                            }
                            has_dynamic_modifier = {
                                modifier = dyn_mod_bel_dem_STATE_naval_focus
                            }
                        }
                    }
                }
            }
        }

        highlight_states = {
            highlight_state_targets = {
                state = FROM
            }
        }

        complete_effect = {
            FROM = {
                save_event_target_as = tomboy_nisd_target_state
                owner = {
                    country_event = tomboy_nisd.1
                }
            }
        }
        # TODO - Not finished yet! Continue working here!
    }
}